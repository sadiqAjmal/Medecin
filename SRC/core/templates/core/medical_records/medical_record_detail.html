{% extends "base_generic.html" %}

{% block title %}
    Medical Record Details
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold">Medical Record Details</h2>
        {% if user.is_authenticated and user.is_superuser %}
        <a href="{% url 'update_medical_record' medical_record.pk %}" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
            Edit
        </a>
        {% endif %}
    </div>
    <div class="bg-white shadow-md rounded-lg p-4">
        <p><strong>Patient:</strong> {{ medical_record.appointment.patient.user.username }}</p>
        <p><strong>Doctor:</strong> {{ medical_record.appointment.doctor.user.username }}</p>
        <p><strong>Diagnosis:</strong> {{ medical_record.diagnosis }}</p>
        <p><strong>Treatment:</strong> {{ medical_record.treatment }}</p>
        <p><strong>Notes:</strong> {{ medical_record.notes }}</p>
        {% if medical_record.report %}
            <p><strong>Report:</strong> <a href="{{ medical_record.report.url }}" class="text-blue-600" target="_blank">View</a></p>
        {% else %}
            <p><strong>Report:</strong> No report uploaded.</p>
        {% endif %}
        <p><strong>Created At:</strong> {{ medical_record.created_at }}</p>
        <p><strong>Updated At:</strong> {{ medical_record.updated_at }}</p>
    </div>
    <div class="mt-8">
        <a href="{% url 'medical_record_list' %}" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
            Back to Medical Records
        </a>
    </div>
</div>
{% endblock %}
